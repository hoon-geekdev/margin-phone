import{r as i,a as ae,R as se}from"./vendor-nf7bT_Uh.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const g of l.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&n(g)}).observe(document,{childList:!0,subtree:!0});function c(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=c(s);fetch(s.href,l)}})();var U={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re=i,le=Symbol.for("react.element"),ne=Symbol.for("react.fragment"),oe=Object.prototype.hasOwnProperty,ie=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ce={key:!0,ref:!0,__self:!0,__source:!0};function Y(d,r,c){var n,s={},l=null,g=null;c!==void 0&&(l=""+c),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(g=r.ref);for(n in r)oe.call(r,n)&&!ce.hasOwnProperty(n)&&(s[n]=r[n]);if(d&&d.defaultProps)for(n in r=d.defaultProps,r)s[n]===void 0&&(s[n]=r[n]);return{$$typeof:le,type:d,key:l,ref:g,props:s,_owner:ie.current}}_.Fragment=ne;_.jsx=Y;_.jsxs=Y;U.exports=_;var e=U.exports,F={},z=ae;F.createRoot=z.createRoot,F.hydrateRoot=z.hydrateRoot;const Q=i.createContext(void 0),X=()=>{const d=i.useContext(Q);if(d===void 0)throw new Error("useAppContext must be used within an AppProvider");return d},de=({children:d})=>{const[r,c]=i.useState("0"),[n,s]=i.useState("0"),[l,g]=i.useState("0"),[u,f]=i.useState("0"),[b,h]=i.useState("0"),[y,C]=i.useState("0"),[v,S]=i.useState("0"),[j,P]=i.useState("0"),[N,w]=i.useState("0"),[L,D]=i.useState(""),[M,m]=i.useState([]),[R,k]=i.useState(()=>{if(typeof window<"u"){const t=localStorage.getItem("darkMode");return t!==null?JSON.parse(t):window.matchMedia("(prefers-color-scheme: dark)").matches}return!1}),[A,p]=i.useState({leftSettlement:0,leftVatWithholding:0,leftMargin:0,rightSettlement:0,rightVatWithholding:0,rightMargin:0,totalMargin:0}),x=i.useCallback(t=>{const a=parseFloat(t.replace(/,/g,""));return isNaN(a)?0:a},[]),O=i.useCallback(()=>{k(t=>{const a=!t;return localStorage.setItem("darkMode",JSON.stringify(a)),a})},[]);i.useEffect(()=>{R?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[R]),i.useEffect(()=>{try{const t=localStorage.getItem("calculatorDataList");t&&m(JSON.parse(t))}catch(t){console.error("데이터 불러오기 실패:",t)}},[]),i.useEffect(()=>{const t=x(r),a=x(n),o=x(l),E=x(u),V=x(b),G=a+o+V-t-E,J=a+V-E>t?(a+V-E-t)*.1:0,W=G-J,H=x(y),B=x(v),Z=x(j),ee=x(N),K=H+B-Z-ee,T=(H+B)*.1,q=K-T,te=W+q;p({leftSettlement:G,leftVatWithholding:J,leftMargin:W,rightSettlement:K,rightVatWithholding:T,rightMargin:q,totalMargin:te})},[r,n,l,u,b,y,v,j,N,x]);const I={leftOpeningAmount:r,setLeftOpeningAmount:c,leftRebate:n,setLeftRebate:s,leftCashReceipt:l,setLeftCashReceipt:g,leftDeductionPolicy:u,setLeftDeductionPolicy:f,leftVatAndPolicy:b,setLeftVatAndPolicy:h,rightRebate:y,setRightRebate:C,rightAdditionalPolicy:v,setRightAdditionalPolicy:S,rightGiftCard:j,setRightGiftCard:P,rightPayback:N,setRightPayback:w,memo:L,setMemo:D,savedDataList:M,setSavedDataList:m,isDarkMode:R,toggleDarkMode:O,calculationResults:A};return e.jsx(Q.Provider,{value:I,children:d})},ge=({isOpen:d,onClose:r})=>{const{memo:c,setMemo:n,savedDataList:s,setSavedDataList:l,leftOpeningAmount:g,setLeftOpeningAmount:u,leftRebate:f,setLeftRebate:b,leftCashReceipt:h,setLeftCashReceipt:y,leftDeductionPolicy:C,setLeftDeductionPolicy:v,leftVatAndPolicy:S,setLeftVatAndPolicy:j,rightRebate:P,setRightRebate:N,rightAdditionalPolicy:w,setRightAdditionalPolicy:L,rightGiftCard:D,setRightGiftCard:M,rightPayback:m,setRightPayback:R}=X(),[k,A]=i.useState(null),p=()=>{if(!c.trim()){alert("메모를 입력해주세요. 메모가 저장 구분값으로 사용됩니다.");return}const t=s.findIndex(o=>o.memo===c.trim());if(t!==-1){window.confirm("동일한 메모가 이미 존재합니다. 덮어쓰시겠습니까?")&&x(t);return}const a={id:Date.now().toString(),memo:c.trim(),timestamp:new Date().toLocaleString("ko-KR"),leftOpeningAmount:g,leftRebate:f,leftCashReceipt:h,leftDeductionPolicy:C,leftVatAndPolicy:S,rightRebate:P,rightAdditionalPolicy:w,rightGiftCard:D,rightPayback:m};try{const o=[...s,a];localStorage.setItem("calculatorDataList",JSON.stringify(o)),l(o),alert("데이터가 저장되었습니다.")}catch(o){console.error("데이터 저장 실패:",o),alert("데이터 저장에 실패했습니다.")}},x=t=>{const a={...s[t],timestamp:new Date().toLocaleString("ko-KR"),leftOpeningAmount:g,leftRebate:f,leftCashReceipt:h,leftDeductionPolicy:C,leftVatAndPolicy:S,rightRebate:P,rightAdditionalPolicy:w,rightGiftCard:D,rightPayback:m};try{const o=[...s];o[t]=a,localStorage.setItem("calculatorDataList",JSON.stringify(o)),l(o),alert("데이터가 업데이트되었습니다.")}catch(o){console.error("데이터 업데이트 실패:",o),alert("데이터 업데이트에 실패했습니다.")}},O=t=>{u(t.leftOpeningAmount||"0"),b(t.leftRebate||"0"),y(t.leftCashReceipt||"0"),v(t.leftDeductionPolicy||"0"),j(t.leftVatAndPolicy||"0"),N(t.rightRebate||"0"),L(t.rightAdditionalPolicy||"0"),M(t.rightGiftCard||"0"),R(t.rightPayback||"0"),n(t.memo||""),r(),alert("데이터가 불러와졌습니다.")},I=t=>{if(k===t)try{const a=s.filter(o=>o.id!==t);localStorage.setItem("calculatorDataList",JSON.stringify(a)),l(a),A(null),alert("데이터가 삭제되었습니다.")}catch(a){console.error("데이터 삭제 실패:",a),alert("데이터 삭제에 실패했습니다.")}else A(t)};return d?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:e.jsxs("div",{className:"card max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"데이터 저장/불러오기"}),e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"닫기"})]}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"현재 데이터 저장"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",value:c,onChange:t=>n(t.target.value),placeholder:"저장할 메모를 입력하세요",className:"input-field flex-1"}),e.jsx("button",{onClick:p,className:"btn btn-success whitespace-nowrap",children:"저장하기"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"저장된 데이터 목록"}),s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📁"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"저장된 데이터가 없습니다."})]}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[...s].sort((t,a)=>parseInt(a.id)-parseInt(t.id)).map(t=>e.jsx("div",{className:"card p-4 border border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t.memo}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.timestamp})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>O(t),className:"btn btn-primary text-sm",children:"불러오기"}),e.jsx("button",{onClick:()=>I(t.id),className:`btn text-sm ${k===t.id?"btn-danger":"btn-secondary"}`,children:k===t.id?"확인":"삭제"})]})]})},t.id))})]})]})]})}):null},$=({label:d,value:r,onChange:c,type:n="number",placeholder:s,rows:l=3,className:g=""})=>{const u=h=>{r==="0"&&c(""),h.target.select()},f=()=>{n==="number"&&(r===""||r==="0")&&c("0")},b=`input-field ${g}`;return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:d}),n==="textarea"?e.jsx("textarea",{value:r,onChange:h=>c(h.target.value),onFocus:u,onBlur:f,placeholder:s,rows:l,className:`${b} resize-none`}):e.jsx("input",{type:n,value:r,onChange:h=>c(h.target.value),onFocus:u,onBlur:f,placeholder:s||"0",className:b,inputMode:n==="number"?"numeric":void 0})]})},me=()=>{const{leftOpeningAmount:d,setLeftOpeningAmount:r,leftRebate:c,setLeftRebate:n,leftCashReceipt:s,setLeftCashReceipt:l,leftDeductionPolicy:g,setLeftDeductionPolicy:u,leftVatAndPolicy:f,setLeftVatAndPolicy:b,rightRebate:h,setRightRebate:y,rightAdditionalPolicy:C,setRightAdditionalPolicy:v,rightGiftCard:S,setRightGiftCard:j,rightPayback:P,setRightPayback:N,memo:w,setMemo:L,isDarkMode:D,toggleDarkMode:M,calculationResults:m}=X(),[R,k]=i.useState(!1),A=()=>{window.confirm("모든 입력값을 초기화하시겠습니까?")&&(r("0"),n("0"),l("0"),u("0"),b("0"),y("0"),v("0"),j("0"),N("0"),L(""))},p=a=>a.toLocaleString("ko-KR"),x=[{label:"개통원금",value:d,onChange:r},{label:"리베이트",value:c,onChange:n},{label:"현금수납",value:s,onChange:l},{label:"차감정책",value:g,onChange:u},{label:"부가 및 추가정책",value:f,onChange:b}],O=[{label:"정산금",value:m.leftSettlement},{label:"부가세/원천",value:m.leftVatWithholding},{label:"마진",value:m.leftMargin,isHighlight:!0}],I=[{label:"리베이트",value:h,onChange:y},{label:"추가 정책",value:C,onChange:v},{label:"상품권 지급",value:S,onChange:j},{label:"페이백",value:P,onChange:N}],t=[{label:"정산금",value:m.rightSettlement},{label:"부가세/원천",value:m.rightVatWithholding},{label:"마진",value:m.rightMargin,isHighlight:!0}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsxs("header",{className:"text-center mb-8 slide-up",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[e.jsx("div",{className:"text-5xl",children:"📱"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-gray-100",children:"핸드폰 마진 계산기"})]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-6",children:"단말기와 유선 개통 마진을 정확하게 계산하는 전문 도구"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx("button",{onClick:()=>k(!0),className:"btn btn-primary",children:"💾 저장/불러오기"}),e.jsx("button",{onClick:A,className:"btn btn-danger",children:"🔄 초기화"}),e.jsx("button",{onClick:M,className:"btn btn-secondary",children:D?"☀️ 라이트 모드":"🌙 다크 모드"})]})]}),e.jsxs("div",{className:"card p-6 mb-8 slide-up",children:[e.jsx("h2",{className:"section-title",children:"📝 메모"}),e.jsx($,{label:"메모 (저장 구분값으로 사용됩니다)",value:w,onChange:L,type:"textarea",placeholder:"계산 내용에 대한 메모를 입력하세요..."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:"📱 단말기"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"개통원금 기반 마진 계산"})]}),e.jsxs("div",{className:"card p-6 border-l-4 border-blue-500",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"📱 단말기 입력값"}),e.jsx("div",{className:"space-y-4",children:x.map((a,o)=>e.jsx($,{label:a.label,value:a.value,onChange:a.onChange},o))})]}),e.jsxs("div",{className:"card p-6 border-l-4 border-blue-500 bg-blue-50 dark:bg-blue-900/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300 mb-4",children:"📊 단말기 계산 결과"}),e.jsx("div",{className:"space-y-3",children:O.map((a,o)=>e.jsxs("div",{className:`flex justify-between items-center p-3 rounded-lg ${a.isHighlight?"bg-blue-100 dark:bg-blue-800/30 border border-blue-300 dark:border-blue-600":"bg-white dark:bg-gray-700"}`,children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:a.label}),e.jsxs("span",{className:`text-lg font-bold ${a.isHighlight?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-gray-100"}`,children:[p(a.value),"원"]})]},o))})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-2",children:"📞 유선"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"리베이트 기반 마진 계산"})]}),e.jsxs("div",{className:"card p-6 border-l-4 border-green-500",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"📞 유선 입력값"}),e.jsx("div",{className:"space-y-4",children:I.map((a,o)=>e.jsx($,{label:a.label,value:a.value,onChange:a.onChange},o))})]}),e.jsxs("div",{className:"card p-6 border-l-4 border-green-500 bg-green-50 dark:bg-green-900/20",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-700 dark:text-green-300 mb-4",children:"📊 유선 계산 결과"}),e.jsx("div",{className:"space-y-3",children:t.map((a,o)=>e.jsxs("div",{className:`flex justify-between items-center p-3 rounded-lg ${a.isHighlight?"bg-green-100 dark:bg-green-800/30 border border-green-300 dark:border-green-600":"bg-white dark:bg-gray-700"}`,children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:a.label}),e.jsxs("span",{className:`text-lg font-bold ${a.isHighlight?"text-green-600 dark:text-green-400":"text-gray-900 dark:text-gray-100"}`,children:[p(a.value),"원"]})]},o))})]})]})})]}),e.jsxs("div",{className:"card p-8 text-center slide-up border-2 border-yellow-400 dark:border-yellow-500",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"💰 총 마진"}),e.jsxs("div",{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-blue-600 dark:from-green-400 dark:to-blue-400 animate-pulse-soft",children:[p(m.totalMargin),"원"]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:["단말기 마진 (",p(m.leftMargin),"원) + 유선 마진 (",p(m.rightMargin),"원)"]})]}),e.jsx("footer",{className:"text-center mt-12 text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:"© 2024 핸드폰 마진 계산기. 모든 데이터는 로컬에 안전하게 저장됩니다."})})]}),e.jsx(ge,{isOpen:R,onClose:()=>k(!1)})]})},xe=()=>e.jsx(de,{children:e.jsx(me,{})});F.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(xe,{})}));
